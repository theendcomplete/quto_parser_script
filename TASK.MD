Создать консольное приложение. 

Обязательные входные параметры: Название_автопроизводителя, название_модели_авто.

Необходимо с использованием гема watir-webdriver зайти на сайт https://quto.ru, выбрать в разделе "Авто в продаже" вариант "Поддержанные", 

в разделе "Все марки" марку из параметра "Название_автопроизводителя", в разделе "Все модели" выбрать параметр "название_марки_авто". 

После этого необходимо нажать на поиск. После загрузки страницы с результатами необходимо спарсить полученные результаты на 1 странице. 

Необходимо записать полученные результаты в массив хешей в формате 

{:link => "ссылка на предложение", :price => "цена", :year => "год", :mileage => "пробег"}. 

На экран необходимо построчно вывести содержание полученного массива.

 

В завершении скрипта вывести общее кол-во собранных записей.

 

Если название автопроизводителя или марки авто не найдено, то вывести сообщение что результатов нет.

Если какие-то ошибки/что не так 0 

 

Пример вызова:

ruby prog.rb Renault Logan

 

Пример результата:

{:link=>"https://quto.ru/inventory/msk/Renault/Logan/II/7108165/", :price=>500000, :year=>2015, :mileage=>0}

{:link=>"https://quto.ru/inventory/msk/Renault/Logan/II/7108113/", :price=>620000, :year=>2017, :mileage=>13000}

Total records: 2

 

Дополнительные требования/пояснения:

- где будет запускаться - Linux, ruby 2.x.

- ограничений по зависимостям/используемым библиотекам - не накладываются (главное в Gemfile прописать).

- в плюс - если не ограничиться первой страницей, а пробовать собирать всё.

- в большой плюс - если будет также предусмотрена работа с использованием прокси-серверов.

 

 